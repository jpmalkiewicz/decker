// defines everything ICE related



english
	// returns the current sensor rating for an ice. the value can be negative
	RULESET.ICE_RATING_SENSOR = FUNCTION (ice, include_analyzed)
		if ice.structure_type == "ICE"
			return_value = ice.rating - ice.damage/4                     // the rating goes down by one for every 4 damage the ice has taken
			if ice.weaken > 0
				return_value = return_value - 4
			if ice.analyzed > 0  &&(  argument.size == 1  ||  include_analyzed  )         // if include_analyzed has been omitted in the list of arguments, treat it as true
				return_value = return_value - ice.analyzed                                // substract the maximum number of successes achieved in a single analyze attempt on this ice
			if ice.white  &&  player.current_system.status != UNDEFINED  &&  player.current_system.status != GREEN
				return_value = return_value + 2                                           // white ice gets a +2 sensor modifier during yellow and red alert


	// returns the current combat rating for an ice. the value can be negative
	RULESET.ICE_RATING_COMBAT = FUNCTION (ice, include_analyzed)
		if ice.structure_type == "ICE"
			return_value = ice.rating - ice.damage/4                     // the rating goes down by one for every 4 damage the ice has taken
			if ice.weaken > 0
				return_value = return_value - 4
			if ice.analyzed > 0  &&(  argument.size == 1  ||  include_analyzed  )         // if include_analyzed has been omitted in the list of arguments, treat it as true
				return_value = return_value - ice.analyzed                                // substract the maximum number of successes achieved in a single analyze attempt on this ice
			if ice.white
				return_value = return_value - 2                                           // white ice gets a -2 combat modifier
