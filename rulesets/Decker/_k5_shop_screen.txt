english
	RULESET.shop_screen = COMPONENT
		title = "Decker - Thrifty Electronics"
		width = 540
		height = 350

		char_money_caption = createText("Money", 20, 15)
		char_money = createText("", 20+pixelwidth(char_money_caption)+20, 15)
		item_table_caption = createTextBold("Items for sale", CENTER, 15)
		scrollpane = SCROLLPANE
			x = 20
			y = 60
			width = COMPONENT.width - 2 * 20
			height = COMPONENT.height - y - 80    // make the height relative to the screenheight
			vertical_scrollbar = ARRAY
				"scroller_vertical_blue0"
				"scroller_up_blue0"
				"scroller_down_blue0"

		LOCAL.createTableButton = FUNCTION (_text, _width, _x, _sorting_order_function)
			return_value = BORDER_BUTTON
				x = _x[0]
				y = _x[1] - 20
				idle = createText(_text)
				idle.height = 14
				width = _width
				height = 20
				_x[0] = _x[0] + _width
				sorting_order_function = &_sorting_order_function
				on_mouse_up = FUNCTION
					sortTable(scrollpane.displayed_element, &sorting_order_function)

		LOCAL.table_button_x = ARRAY
			scrollpane.x
			scrollpane.y

		component = ARRAY
			SCREEN_BACKGROUND
				width = COMPONENT.width
				height = COMPONENT.height
			char_money_caption
			char_money
			item_table_caption
			scrollpane

			// the software section
			createBorder(scrollpane.x-2, scrollpane.y-22, scrollpane.width+4, scrollpane.height+24, @TABLE_BACKGROUND_COLOR, true)
			scrollpane
			createTableButton("",        19, table_button_x, &compareProgramsPreset)
			createTableButton("Name",   136, table_button_x, &compareProgramsName)
			createTableButton("Type",   109, table_button_x, &compareProgramsType)
			createTableButton("Rating",  59, table_button_x, &compareProgramsRating)
			createTableButton("Size",    59, table_button_x, &compareProgramsSize)
			createTableButton("Cost",  59, table_button_x, &compareProgramsLoaded)
			createTableButton("Current", 59, table_button_x, &compareProgramsDefault)
			optional_hardware   // the optional hardware texts will be stored in optional_hardware.component

		setup = FUNCTION
			shop_screen.char_money.text = player.money
